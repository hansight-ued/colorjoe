/*! hs-colorjoe - v4.1.0 - Juho Vepsalainen <bebraw@gmail.com> - MIT
https://bebraw.github.com/colorjoe - 2018-07-05 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("onecolor")):"function"==typeof define&&define.amd?define(["onecolor"],e):n.colorjoe=e(n.one)}(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,h=(function(n,e){n.exports=function(){function r(n,e){n?(t(n,e,"touchstart","touchmove","touchend"),t(n,e,"mousedown","mousemove","mouseup")):console.warn("drag is missing elem!")}return r.xyslider=function(n){var e=i(n.class||"",n.parent),t=i("pointer",e);return i("shape shape1",t),i("shape shape2",t),i("bg bg1",e),i("bg bg2",e),r(e,o(n.cbs,t)),{background:e,pointer:t}},r.slider=function(n){var e=i(n.class,n.parent),t=i("pointer",e);return i("shape",t),i("bg",e),r(e,o(n.cbs,t)),{background:e,pointer:t}},r;function o(n,t){var e={};for(var r in n)e[r]=o(n[r]);function o(e){return function(n){n.pointer=t,e(n)}}return e}function i(n,e){return t="div",r=n,o=e,i=document.createElement(t),r&&(i.className=r),o.appendChild(i),i;var t,r,o,i}function t(r,n,e,o,i){var t,u,a,c=(n=(t=n)?{begin:t.begin||h,change:t.change||h,end:t.end||h}:{begin:function(n){u={x:n.elem.offsetLeft,y:n.elem.offsetTop},a=n.cursor},change:function(n){d(n.elem,"left",u.x+n.cursor.x-a.x+"px"),d(n.elem,"top",u.y+n.cursor.y-a.y+"px")},end:h}).begin,l=n.change,s=n.end;f(r,e,function(e){var t=function(n){var e=Array.prototype.slice,t=e.apply(arguments,[1]);return function(){return n.apply(null,t.concat(e.apply(arguments)))}}(v,l,r);f(document,o,t),f(document,i,function n(){p(document,o,t),p(document,i,n),v(s,r,e)}),v(c,r,e)})}function f(n,e,t){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}catch(n){}n.addEventListener(e,t,!!r&&{passive:!1})}function p(n,e,t){n.removeEventListener(e,t,!1)}function d(n,e,t){n.style[e]=t}function h(){}function v(n,e,t){t.preventDefault();var r,o,i,u={x:(r=e.getBoundingClientRect()).left,y:r.top},a=e.clientWidth,c=e.clientHeight,l={x:(i=t,(i.touches?i.touches[i.touches.length-1]:i).clientX),y:(o=t,(o.touches?o.touches[o.touches.length-1]:o).clientY)},s=(l.x-u.x)/a,f=(l.y-u.y)/c;n({x:isNaN(s)?0:s,y:isNaN(f)?0:f,cursor:l,elem:e,e:t})}}()}(e={exports:{}},e.exports),e.exports),v=t(g,"div");function g(n,e,t){var r=document.createElement(n);return r.className=e,t.appendChild(r),r}function t(n){var e=Array.prototype.slice,t=e.apply(arguments,[1]);return function(){return n.apply(null,t.concat(e.apply(arguments)))}}function r(n,e,t){return Math.min(Math.max(n,e),t)}var y={clamp:r,e:g,div:v,partial:t,labelInput:function(n,e,t,r){var o="colorPickerInput"+Math.floor(1001*Math.random()),i=v(n,t);return{label:(f=e,p=i,d=o,h=g("label","",p),h.innerHTML=f,d&&h.setAttribute("for",d),h),input:(u="text",a=i,c=r,l=o,s=g("input","",a),s.type=u,c&&(s.maxLength=c),l&&s.setAttribute("id",l),c&&(s.maxLength=c),s)};var u,a,c,l,s;var f,p,d,h},X:function(n,e){n.style.left=r(100*e,0,100)+"%"},Y:function(n,e){n.style.top=r(100*e,0,100)+"%"},BG:function(n,e){n.style.background=e}};var o={currentColor:function(n){var e=y.div("currentColorContainer",n),t=y.div("currentColor",e);return{change:function(n){y.BG(t,n.cssa())}}},fields:function(n,t,e){var r=e.space,o=e.limit||255,i=0<=e.fix?e.fix:0,u=(""+o).length+i;u=i?u+1:u;var a=r.split(""),c="A"==r[r.length-1];if(r=c?r.slice(0,-1):r,["RGB","HSL","HSV","CMYK"].indexOf(r)<0)return console.warn("Invalid field names",r);var l=y.div("colorFields",n),s=a.map(function(n){n=n.toLowerCase();var e=y.labelInput("color "+n,n,l,u);return e.input.onblur=f,e.input.onkeydown=p,e.input.onkeyup=d,{name:n,e:e}});function f(){t.done()}function p(n){n.ctrlKey||n.altKey||!/^[a-zA-Z]$/.test(n.key)||n.preventDefault()}function d(){var e=[r];s.forEach(function(n){e.push(n.e.input.value/o)}),c||e.push(t.getAlpha()),t.set(e)}return{change:function(e){s.forEach(function(n){n.e.input.value=(e[n.name]()*o).toFixed(i)})}}},hex:function(n,r,e){var t=y.labelInput("hex",e.label||"",n,7);return t.input.value="#",t.input.onkeyup=function(n){var e=n.keyCode||n.which,t=n.target.value;t=function(n,e,t){for(var r=n,o=n.length;o<e;o++)r+=t;return r}(t="#"==t[0]?t:"#"+t,7,"0"),13==e&&r.set(t)},t.input.onblur=function(n){r.set(n.target.value),r.done()},{change:function(n){t.input.value="#"==t.input.value[0]?"#":"",t.input.value+=n.hex().slice(1)}}},alpha:function(n,t){var e=h.slider({parent:n,class:"oned alpha",cbs:{begin:r,change:r,end:function(){t.done()}}});function r(n){var e=y.clamp(n.y,0,1);y.Y(n.pointer,e),t.setAlpha(1-e)}return{change:function(n){y.Y(e.pointer,1-n.alpha())}}},close:function(n,e,t){var r=y.e("a",t.class||"close",n);r.href="#",r.innerHTML=t.label||"Close",r.onclick=function(n){n.preventDefault(),e.hide()}}},i=n.color,x=function(r){return n=l,(e=[r.init,r.xy,r.z]).map(n).filter(s).length!=e.length?console.warn("colorjoe: missing cb"):function(n,e,t){return function(n){if(!n.e)return console.warn("colorjoe: missing element");var e=(t=n.e,"string"==typeof t?document.getElementById(n.e):n.e);var t;e.className="colorPicker";var r=n.cbs,o=h.xyslider({parent:e,class:"twod",cbs:{begin:i,change:i,end:p}});function i(n){l=r.xy(l,{x:y.clamp(n.x,0,1),y:y.clamp(n.y,0,1)},o,u),f()}var u=h.slider({parent:e,class:"oned",cbs:{begin:a,change:a,end:p}});function a(n){l=r.z(l,y.clamp(n.y,0,1),o,u),f()}var c=m(n.color),l=r.init(c,o,u),s={change:[],done:[]};function f(n){n=b(n)?n:[];for(var e,t=s.change,r=0,o=t.length;r<o;r++)e=t[r],-1==n.indexOf(e.name)&&e.fn(l)}function p(){if(!c.equals(l)){for(var n=0,e=s.done.length;n<e;n++)s.done[n].fn(l);c=l}}var d={e:e,done:function(){return p(),this},update:function(n){return f(n),this},hide:function(){return e.style.display="none",this},show:function(){return e.style.display="",this},get:function(){return l},set:function(n){var e=this.get();return l=r.init(m(n),o,u),e.equals(l)||this.update(),this},getAlpha:function(){return l.alpha()},setAlpha:function(n){return l=l.alpha(n),this.update(),this},on:function(n,e,t){return"change"==n||"done"==n?s[n].push({name:t,fn:e}):console.warn('Passed invalid evt name "'+n+'" to colorjoe.on'),this},removeAllListeners:function(n){if(n)delete s[n];else for(var e in s)delete s[e];return this}};return function(n,a,e){if(e){var c,l,s,f=y.div("extras",n);e.forEach(function(n,e){b(n)?(l=n[0],s=1<n.length?n[1]:{}):(l=n,s={});var t,r,o,i=l in x.extras?x.extras[l]:null;if(i)for(var u in c=i(f,(r=l+e,(o=function(n){var e={};for(var t in n)e[t]=n[t];return e}(t=a)).update=function(){t.update([r])},o),s))a.on(u,c[u],l)})}}(e,d,n.extras),f(),d}({e:n,color:e,cbs:r,extras:t})};var n,e};for(var u in x.rgb=x({init:function(n,e,t){var r=i(n).hsv();return this.xy(r,{x:r.saturation(),y:1-r.value()},e,t),this.z(r,r.hue(),e,t),r},xy:function(n,e,t){return y.X(t.pointer,e.x),y.Y(t.pointer,e.y),n.saturation(e.x).value(1-e.y)},z:function(n,e,t,r){return y.Y(r.pointer,e),a(t.background,e),n.hue(e)}}),x.hsl=x({init:function(n,e,t){var r=i(n).hsl();return this.xy(r,{x:r.hue(),y:1-r.saturation()},e,t),this.z(r,1-r.lightness(),e,t),r},xy:function(n,e,t,r){return y.X(t.pointer,e.x),y.Y(t.pointer,e.y),a(r.background,e.x),n.hue(e.x).saturation(1-e.y)},z:function(n,e,t,r){return y.Y(r.pointer,e),n.lightness(1-e)}}),x.extras={},x.registerExtra=function(n,e){n in x.extras&&console.warn('Extra "'+n+'"has been registered already!'),x.extras[n]=e},o)x.registerExtra(u,o[u]);function a(n,e){y.BG(n,new i.HSV(e,1,1).cssa())}function m(n){if(!c(n))return i("#000");if(n.isColor)return n;var e=i(n);return e||(c(n)&&console.warn("Passed invalid color to colorjoe, using black instead"),i("#000"))}function b(n){return"[object Array]"===Object.prototype.toString.call(n)}function c(n){return void 0!==n}function l(n){return"function"==typeof n}function s(n){return n}return x});
//# sourceMappingURL=colorjoe.min.js.map
